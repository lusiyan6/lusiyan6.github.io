<!doctype html>
<html lang="zh" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">React笔记 | lusiyan-Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lusiyan6.github.io/react"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="React笔记 | lusiyan-Blog"><meta data-rh="true" name="description" content="React引入"><meta data-rh="true" property="og:description" content="React引入"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lusiyan6.github.io/react"><link data-rh="true" rel="alternate" href="https://lusiyan6.github.io/react" hreflang="zh"><link data-rh="true" rel="alternate" href="https://lusiyan6.github.io/react" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="lusiyan-Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="lusiyan-Blog Atom Feed"><link rel="stylesheet" href="/assets/css/styles.7058671c.css">
<link rel="preload" href="/assets/js/runtime~main.b8f1dd79.js" as="script">
<link rel="preload" href="/assets/js/main.c89ca951.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">我的网站</b></a><a class="navbar__item navbar__link" href="/docs/intro">文档</a><a class="navbar__item navbar__link" href="/blog">博客</a><a class="navbar__item navbar__link" href="/js">Js基础笔记</a><a class="navbar__item navbar__link" href="/js2">Js高级笔记</a><a class="navbar__item navbar__link" href="/node.js">Node.js笔记</a><a class="navbar__item navbar__link" href="/ajax">Ajax笔记</a><a class="navbar__item navbar__link" href="/git">Git笔记</a><a class="navbar__item navbar__link" href="/tool">构建工具笔记</a><a class="navbar__item navbar__link" href="/vue">Vue笔记</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/react">React笔记</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lusiyan6/note" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_j9I6"><div class="col col--8"><article><h1>React笔记</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="react引入">React引入<a href="#react引入" class="hash-link" aria-label="React引入的直接链接" title="React引入的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么是react">什么是React?<a href="#什么是react" class="hash-link" aria-label="什么是React?的直接链接" title="什么是React?的直接链接">​</a></h3><p>与vue的作用相同，React是前端框架，用来代替DOM来构建用户界面</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="react的特点">React的特点<a href="#react的特点" class="hash-link" aria-label="React的特点的直接链接" title="React的特点的直接链接">​</a></h3><ul><li>虚拟DOM<ul><li>程序员--&gt;虚拟DOM--&gt;DOM</li><li>好处：<ul><li>React比DOM简单，学习成本低</li><li>React会帮助我们解决浏览器兼容问题，减少开发成本</li><li>使用虚拟DOM的性能会被直接操作DOM好</li></ul></li></ul></li><li>声明式</li><li>基于组件</li><li>支持服务器端渲染</li><li>快速、简单、易学</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="helloreact">HelloReact<a href="#helloreact" class="hash-link" aria-label="HelloReact的直接链接" title="HelloReact的直接链接">​</a></h3><ul><li><p>使用js脚本引入React</p><ul><li>react.development.js</li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">react 是react核心库，只要使用react就必须要引入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">下载地址：https://unpkg.com/react@18.0.0/umd/react.development.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>react-dom.development.js</li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">react-dom 是react的dom包，使用react开发web应用时必须引入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">下载地址：https://unpkg.com/react-dom@18.0.0/umd/react-dom.development.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">./script/react.development.js</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">./script/react-dom.development.js</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>代码</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">//创建一个React元素</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> div</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript maybe-class-name">React</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createElement</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;div&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&quot;hello React&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">//获取根元素对应的React元素</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> root</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript maybe-class-name">ReactDOM</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createRoot</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;root&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">//渲染进页面</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    root</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">render</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">div</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="三个api">三个API<a href="#三个api" class="hash-link" aria-label="三个API的直接链接" title="三个API的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reactcreateelement">React.createElement()<a href="#reactcreateelement" class="hash-link" aria-label="React.createElement()的直接链接" title="React.createElement()的直接链接">​</a></h3><ul><li>用来创建一个React元素</li><li>参数：<ul><li>元素的名称（html标签要小写）</li><li>标签的属性：<ul><li>添加类属性要用className</li><li>在设置事件时，属性名需要修改为驼峰命名法，属性值为一个函数</li></ul></li><li>元素的内容（可以是子元素），多个元素用逗号隔开</li><li>注意点：<ul><li>React元素最终会通过虚拟DOM转换为真实的DOM元素</li><li>React元素一旦创建无法修改，只能通过创建新的元素进行替换</li></ul></li></ul></li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> btn</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript maybe-class-name">React</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createElement</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript literal-property property" style="color:#36acaa">id</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript string" style="color:#e3116c">&quot;btn&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript literal-property property" style="color:#36acaa">className</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript string" style="color:#e3116c">&quot;my-button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript literal-property property" style="color:#36acaa">type</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript string" style="color:#e3116c">&quot;button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript function-variable function" style="color:#d73a49">onClick</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;123&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&quot;点我一下&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> div</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript maybe-class-name">React</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createElement</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;div&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript">btn</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> root</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript maybe-class-name">ReactDOM</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createRoot</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;root&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    root</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">render</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">div</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>修改React元素后，必须重新对根元素进行渲染</li><li>当调用render渲染页面时，React会自动比较两次渲染的元素，只在真实DOM中更新发生变化的部分，没发生变化的保持不变</li><li>React与vue都采用diff算法，通过修改最少的DOM来实现最好的性能</li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">btn</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">修改React元素</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> button </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">React</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createElement</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:#36acaa">className</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;my-button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript literal-property property" style="color:#36acaa">type</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function-variable function" style="color:#d73a49">onClick</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;123&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;点我一下&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> div </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">React</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createElement</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;div&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;啦啦啦啦啦啦啦啦&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> button</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> root </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">ReactDOM</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createRoot</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;root&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    root</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">render</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">div</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> btn </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;btn&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    btn</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method-variable function-variable method function property-access" style="color:#d73a49">onclick</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> newButton </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">React</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createElement</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript literal-property property" style="color:#36acaa">className</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;my-button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript literal-property property" style="color:#36acaa">type</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;button&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">            </span><span class="token script language-javascript function-variable function" style="color:#d73a49">onClick</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;123&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;点我一万下&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> div </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">React</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createElement</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;div&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;啦啦啦啦啦啦啦啦&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> newButton</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        root</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">render</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">div</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>只有button发生改变</p><p><img loading="lazy" src="data:image/png;base64,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" width="468" height="125" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reactdomcreaterootdom元素">ReactDOM.createRoot(DOM元素)<a href="#reactdomcreaterootdom元素" class="hash-link" aria-label="ReactDOM.createRoot(DOM元素)的直接链接" title="ReactDOM.createRoot(DOM元素)的直接链接">​</a></h3><p>获取根元素，根元素就是React元素要插入的位置</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">div</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;root&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 老版本的React中使用方法</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rootrender">root.render()<a href="#rootrender" class="hash-link" aria-label="root.render()的直接链接" title="root.render()的直接链接">​</a></h3><ul><li>用来将React元素渲染到根元素中</li><li>根元素中所有的内容都会被删除，被React元素所替换</li><li>当重复调用render()时，React会将两次的渲染结果进行比较，</li><li>它会确保只修改那些发生变化的元素，对DOM做最少的修改</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="jsx">JSX<a href="#jsx" class="hash-link" aria-label="JSX的直接链接" title="JSX的直接链接">​</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">JSX 是 JavaScript 的语法扩展，JSX 使得我们可以以类似于 HTML 的形式去使用 JS。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JSX便是React中声明式编程的体现方式。声明式编程，简单理解就是以结果为导向的编程。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">使用JSX将我们所期望的网页结构编写出来，然后React再根据JSX自动生成JS代码。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">所以我们所编写的JSX代码，最终都会转换为以调用React.createElement()创建元素的代码。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JSX是React.createElement()的语法糖，简化了React代码的编写。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="引入babel">引入babel<a href="#引入babel" class="hash-link" aria-label="引入babel的直接链接" title="引入babel的直接链接">​</a></h3><ul><li>babel用来帮助React翻译JSX代码</li><li>babel下载地址：<a href="https://unpkg.com/babel-standalone@6/babel.min.js" target="_blank" rel="noopener noreferrer">https://unpkg.com/babel-standalone@6/babel.min.js</a></li><li>引入babel js文件</li><li>script标签内的type=&quot;text/babel&quot;，设置js代码被babel处理</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="jsx语法">JSX语法<a href="#jsx语法" class="hash-link" aria-label="JSX语法的直接链接" title="JSX语法的直接链接">​</a></h3><ol><li>JSX不是字符串，不要加引号</li><li>JSX中html标签应该小写，React组件应该大写开头</li><li>JSX中有且只有一个根标签</li><li>JSX的标签必须正确结束（自结束标签必须写/）</li><li>在JSX中可以使用{}嵌入表达式<ul><li>有值的语句的就是表达式</li></ul></li><li>如果表达式是空值、布尔值、undefined，将不会显示【<strong>vue的模板会显示布尔值，其他一致</strong>】</li><li>在JSX中，属性可以直接在标签中设置
注意：<ul><li>class需要使用className代替</li><li>事件用驼峰命名法</li><li>style中必须使用对象设置<ul><li>style={{backgroundColor:&#x27;red&#x27;}}</li></ul></li></ul></li></ol><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text/babel</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> div </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript">div </span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    id</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript string" style="color:#e3116c">&quot;box&quot;</span><span class="token script language-javascript"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    className</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript string" style="color:#e3116c">&quot;my-box&quot;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    onClick</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        </span><span class="token script language-javascript function" style="color:#d73a49">alert</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript number" style="color:#36acaa">123</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    style</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript literal-property property" style="color:#36acaa">width</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript string" style="color:#e3116c">&quot;100px&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript literal-property property" style="color:#36acaa">height</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript string" style="color:#e3116c">&quot;100px&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript literal-property property" style="color:#36acaa">backgroundColor</span><span class="token script language-javascript operator" style="color:#393A34">:</span><span class="token script language-javascript string" style="color:#e3116c">&quot;red&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript operator" style="color:#393A34">/</span><span class="token script language-javascript">div</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> root</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript maybe-class-name">ReactDOM</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createRoot</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;root&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    root</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">render</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">div</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="渲染列表">渲染列表<a href="#渲染列表" class="hash-link" aria-label="渲染列表的直接链接" title="渲染列表的直接链接">​</a></h3><ul><li><p>jsx会自动解构数组，将数组中的元素在网页中显示</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text/babel</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> arr</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊伟&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊强&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊珍&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> list</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript">div</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">arr</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript operator" style="color:#393A34">/</span><span class="token script language-javascript">div</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> root</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript maybe-class-name">ReactDOM</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createRoot</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;root&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  root</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">render</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">list</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,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AAAAZIWACwAAgKwQcAEAAJAVAi4AAACyQsAFAABAVgi4AAAAyAoBFwAAAFkh4AIAACArBFwAAABkhYALAACArBBwAQAAkBUCLgAAALJCwAUAAEBWCLgAAADICgEXAAAAWSHgAgAAICsEXAAAAGSFgAsAAICsEHABAACQFQIuAAAAskLABQAAQFYIuAAAAMgKARcAAABZIeACAAAgKwRcAAAAZIWACwAAgKwQcAEAAJAVAi4AAACyQsAFAABAVgi4AAAAyAoBFwAAAFkh4AIAACArBFwAAABkhYALAACArBBwAQAAkBUCLgAAALJCwAUAAEBWCLgAAADICgEXAAAAWSHgAgAAICsEXAAAAGSFgAsAAICsEHABAACQFQIuAAAAskLABQAAQFYIuAAAAMgKARcAAABZIeACAAAgKwRcAAAAZIWACwAAgKwQcAEAAJAVAi4AAACyQsAFAABAVgi4AAAAyAoBFwAAAFkh4AIAACArBFwAAABkhYALAACArBBwAQAAkBUCLgAAALJCwAUAAEBWCLgAAADICgEXAAAAWSHgAgAAICsEXAAAAGSFgAsAAICMFMX/Aypm2shk0gn1AAAAAElFTkSuQmCC" width="696" height="162" class="img_ev3q"></p></li><li><p>使用for循环</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text/babel</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> data</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊伟&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊强&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊珍&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> arr</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">for</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript keyword" style="color:#00009f">let</span><span class="token script language-javascript"> item </span><span class="token script language-javascript keyword" style="color:#00009f">of</span><span class="token script language-javascript"> data</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">        arr</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">push</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript">li</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">item</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript operator" style="color:#393A34">/</span><span class="token script language-javascript">li</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> list</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript">ul</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">arr</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript operator" style="color:#393A34">/</span><span class="token script language-javascript">ul</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> root</span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript maybe-class-name">ReactDOM</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createRoot</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;root&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    root</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">render</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">list</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>使用map</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">text/babel</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> data </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">[</span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊伟&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊强&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&quot;啊珍&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">]</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> list </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript">ul</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">data</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">map</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript parameter">item</span><span class="token script language-javascript arrow operator" style="color:#393A34">=&gt;</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript">li</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript">item</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript operator" style="color:#393A34">/</span><span class="token script language-javascript">li</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript operator" style="color:#393A34">&lt;</span><span class="token script language-javascript operator" style="color:#393A34">/</span><span class="token script language-javascript">ul</span><span class="token script language-javascript operator" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">const</span><span class="token script language-javascript"> root </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript maybe-class-name">ReactDOM</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">createRoot</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getElementById</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&quot;root&quot;</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    root</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">render</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript">list</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"></span><br></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="虚拟dom">虚拟DOM<a href="#虚拟dom" class="hash-link" aria-label="虚拟DOM的直接链接" title="虚拟DOM的直接链接">​</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">在React我们操作的元素被称为React元素，并不是真正的原生DOM元素，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">React通过虚拟DOM 将React元素和原生DOM进行映射，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">虽然操作的React元素，但是这些操作最终都会在真实DOM中体现出来</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>虚拟DOM的好处：<ol><li>降低API复杂度</li><li>解决兼容问题</li><li>提升性能（减少DOM的不必要操作）</li></ol></li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">每当我们调用root.render()时，页面就会发生重新渲染</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">React会通过diffing算法，将新的元素和旧的元素进行比较</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">通过比较找到发生变化的元素，并且只对变化的元素进行修改，没有发生的变化不予处理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">比较两次数据时，React会先比较父元素，父元素如果不同，直接所有元素全部替换</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">父元素一致，在去逐个比较子元素，直到找到所有发生变化的元素为止</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="注意">注意<a href="#注意" class="hash-link" aria-label="注意的直接链接" title="注意的直接链接">​</a></h4><ul><li><p>当我们在JSX中显示数组中，数组中每一个元素都需要设置一个唯一key，否则控制台会显示红色警告</p></li><li><p>重新渲染页面时，React默认会按照顺序依次比较对应的元素（就地更新策略），如果列表的顺序永远不会发生变化，这么做当然没有问题，但是如果列表的顺序会发生变化，这可能会导致性能问题出现</p></li><li><p>为了解决这个问题，React为列表设计了一个key属性，key的作用相当于ID，只是无法在页面中查看，当设置key以后，再比较元素时，就会比较相同key的元素，而不是按照顺序进行比较</p></li><li><p>在渲染一个列表时，通常会给列表项设置一个唯一的key来避免上述问题（这个key在当前列表中唯一即可）</p></li><li><p>注意：</p><ol><li>开发中一般会采用数据的id作为key</li><li>尽量不要使用元素的index作为key</li></ol><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">索引会跟着元素顺序的改变而改变，所以使用索引做key跟没有key是一样的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">唯一的不同就是，控制台的警告没了</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">当元素的顺序不会发生变化时，用索引做key也没有什么问题</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> list </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ul</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">li key</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">li</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">ul</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="创建react项目">创建React项目<a href="#创建react项目" class="hash-link" aria-label="创建React项目的直接链接" title="创建React项目的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="手动创建">手动创建<a href="#手动创建" class="hash-link" aria-label="手动创建的直接链接" title="手动创建的直接链接">​</a></h3><ul><li><p>项目结构</p><ul><li>常规的React项目需要使用npm（或yarn）作为包管理器来对项目进行管理。并且React官方为了方便我们的开发，为我们提供react-scripts包。包中提供了项目开发中的大部分依赖，大大的简化了项目的开发。</li><li>服务器使用的动态资源放在public下，静态资源放在src目录下的assets，src目录的内容服务器无法直接通过路径访问，要采用模块的方式导入才能使用</li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">根目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- public</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - index.html（添加标签 </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">root</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - App.js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - index.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>操作</p><ul><li>进入项目所在目录，并执行命令：<code>npm init -y</code></li><li>安装项目依赖：<code>npm install react react-dom react-scripts -S</code></li><li>打包<code>npx react-scripts build</code> 打包项目，初次会询问是否加入一些默认配置(例如提高代码兼容的babel工具)，选y<ul><li>打包后的index.html中的src路径默认是根目录开头，需手动修改为相对路径</li><li>在开发阶段使用打包来查看项目效果是不方便的，我们只有在项目开发完成后才对项目打包</li></ul></li><li>运行<code>npx react-scripts start</code>启动内置测试服务器，实时对代码进行编译,初次也会询问<ul><li>ctrl+c终止批处理操作</li></ul></li></ul></li><li><p>描述文件</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;scripts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;start&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-scripts start&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;build&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-scripts build&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*语法检查*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;eslintConfig&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;extends&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;react-app&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="自动创建">自动创建<a href="#自动创建" class="hash-link" aria-label="自动创建的直接链接" title="自动创建的直接链接">​</a></h3><ul><li>使用步骤<ol><li>打开命令行</li><li>进入到项目所在目录</li><li>使用如下命令：<code>npx create-react-app 项目名</code></li></ol></li><li>具体介绍<ul><li><a href="https://www.lilichao.com/index.php/2022/03/22/%e5%88%9b%e5%bb%bareact%e9%a1%b9%e7%9b%ae%ef%bc%88%e8%87%aa%e5%8a%a8%ef%bc%89/" target="_blank" rel="noopener noreferrer">博客</a></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="react组件">React组件<a href="#react组件" class="hash-link" aria-label="React组件的直接链接" title="React组件的直接链接">​</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">在React中网页被拆分为了一个一个组件，组件是独立可复用的代码片段。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">具体来说，组件可能是页面中的一个按钮，一个对话框，一个弹出层等。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">React中定义组件的方式有两种：基于函数的组件和基于类的组件。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// React组件可以直接通过JSX渲染</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root.render(</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">组件名</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vscode：输入rfc快捷生成函数组件模板，输入rcc生成类组件模板</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="函数组件">函数组件<a href="#函数组件" class="hash-link" aria-label="函数组件的直接链接" title="函数组件的直接链接">​</a></h3><ul><li>函数组件就是一个返回JSX的普通函数</li><li>组件的首字母必须是大写<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">App</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">hello </span><span class="token maybe-class-name">React</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="类组件">类组件<a href="#类组件" class="hash-link" aria-label="类组件的直接链接" title="类组件的直接链接">​</a></h3><ul><li><p>类组件必须要继承React.Component</p></li><li><p>类组件中，必须添加一个render()方法，且方法的返回值要是一个jsx</p></li><li><p>相较于函数组件，类组件的编写要麻烦一下，但是他俩的功能是一样的</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">//import {Component} from &quot;react</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">//extendes Component</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">我是一个类组件</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">App</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="react事件">React事件<a href="#react事件" class="hash-link" aria-label="React事件的直接链接" title="React事件的直接链接">​</a></h2><ul><li><p>在React中事件需要通过元素的属性来设置，和原生JS不同，在React中事件的属性需要使用驼峰命名法：</p><ul><li>onclick -&gt; onClick</li><li>onchange -&gt; onChange</li></ul></li><li><p>属性值不能直接执行代码，而是需要一个回调函数：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">onclick</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;alert(123)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">123</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>事件对象</p><ul><li>React事件中同样会传递事件对象，可以在响应函数中定义参数来接收事件对象</li><li>React中的事件对象同样不是原生的事件对象，是经过React包装后的事件对象</li><li>由于对象进行过包装，所以使用过程中我们无需再去考虑兼容性问题</li><li>这一点与vue不同，vue传递的是原生的事件对象</li></ul></li><li><p>阻止事件传导与默认行为</p><ul><li>在React中，无法通过return false取消默认行为</li><li>event.preventDefault(); // 取消默认行为</li><li>event.stopPropagation(); // 取消事件的冒泡</li></ul></li><li></li><li><p>代码示例：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyClick</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;123&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">preventDefault</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  event</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stopPropagation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">MyClick</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">点我一下</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;div被点了&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">a href</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;#&quot;</span><span class="token plain"> onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">MyClick</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">click me</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">a</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="函数组件使用">函数组件使用<a href="#函数组件使用" class="hash-link" aria-label="函数组件使用的直接链接" title="函数组件使用的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="props">props<a href="#props" class="hash-link" aria-label="props的直接链接" title="props的直接链接">​</a></h3><ul><li>如果将组件中的数据全部写死，将会导致组件无法动态设置，不具有使用价值。我们希望组件数据可以由外部设置，在组件间，父组件可以通过props（属性）向子组件传递数据</li><li>在函数组件中，属性就相当于是函数的参数，可以通过参数来访问。</li><li>可以在函数组件的形参中定义一个props，props指向的是一个对象，它包含了父组件中传递的所有参数</li><li>父组件<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">子组件</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">属性名1</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">XXX</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">属性名2</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">XXX/</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>子组件<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">子组件名</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">//{属性名1:XXX,属性名2:XXX}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>props是只读的不能修改</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="state">state<a href="#state" class="hash-link" aria-label="state的直接链接" title="state的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="为什么需要state">为什么需要state<a href="#为什么需要state" class="hash-link" aria-label="为什么需要state的直接链接" title="为什么需要state的直接链接">​</a></h4><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">在React中，当组件渲染完毕后，再修改组件中的变量，不会使组件重新渲染</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">要使得组件可以收到变量的影响，必须在变量修改后对组件进行重新渲染</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这里我们就需要一个特殊变量，当这个变量被修改使，组件会自动重新渲染</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state和props类似，都是一种存储属性的方式，但是不同点在于state只属于当前组件，其他组件无法访问。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">并且state是可变的，当其发生变化后组件会自动重新渲染，以使变化在页面中呈现。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="具体介绍">具体介绍<a href="#具体介绍" class="hash-link" aria-label="具体介绍的直接链接" title="具体介绍的直接链接">​</a></h4><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">state实际上就是一个变量，只是这个变量在React中进行了注册，React会监控这个变量的变化，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">当state发生变化时，会自动触发组件的重新渲染，使得我们的修改可以在页面中呈现出来</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>在函数组件中，我们需要通过钩子函数，获取state</p><ul><li>使用钩子 useState() 来创建state</li><li>它需要一个值作为参数，这个值就是state的初始值</li><li>该函数会返回一个数组<ul><li>数组中第一个元素，是初始值<ul><li>初始值只用来显示数据，直接修改不会触发组件的重新渲染（初始值变了并不会改变state的值）</li></ul></li><li>数组中的第二个元素，是一个函数，通常会命名为setXxx<ul><li>这个函数用来修改state，调用其修改state后会触发组件的重新渲染，并且使用函数的实参作为新的state值</li><li>假如函数实参与原本的初始值一致，那仍不会重新渲染</li></ul></li></ul></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">useState</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./App.css&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">setCount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;app&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count</span><span class="token operator" style="color:#393A34">--</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="注意-1">注意<a href="#注意-1" class="hash-link" aria-label="注意的直接链接" title="注意的直接链接">​</a></h4><ul><li><p>只有state值本身发生变化，组件才会重新渲染</p><ul><li>直接修改初始值，并不会改变state</li><li>当state的值是一个对象时，修改时是使用新的对象去替换已有对象</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">useState</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./App.css&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">setObj</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;阿伟&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">gender</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;男&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;app&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">gender</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">setObj</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">obj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;阿强&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">改变名字</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>当通过setState去修改一个state时，并不表示修改当前的state，它修改的是组件下一次渲染时的state值</li><li>setState()会触发组件的重新渲染，它是异步的</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">useState</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./App.css&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">setCount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;我被渲染了！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">changeCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;app&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">changeCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">多次修改</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/20230211_234124__-2f5f34a11c359300ef3f04656f53a63b.png" width="1152" height="648" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/20230211_234142__-b027b2a2bcb2d7bb1b28e6f1feb8b2cb.PNG" width="468" height="610" class="img_ev3q"></p><ul><li>所以当调用setState()需要用旧state的值时，一定要注意有可能出现计算错误的情况，例如：</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">useState</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./App.css&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">setCount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">changeCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">setTimeout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">count</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;app&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">changeCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">+</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/20230211_235154__-5139b2ac13171d62092551a936333a4a.png" width="1152" height="648" class="img_ev3q"></p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">快速连续点击两次，在经历了1s和1.05s后两个事件入队，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">此时由于第一次点击还未入栈执行，第二次拿到的count仍为0，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">导致两次点击的结果一致，都为1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>为了避免这种情况，可以通过为setState()传递回调函数的形式来修改state值</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">setCount</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">preCount</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain">preCount</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//setState()中回调函数的返回值将会成为新的state值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//回调函数执行时，React会将最新的state值作为参数传递</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>组件重新渲染本质上是重新调用render方法</p><ul><li>函数组件是一个函数，调用render方法就是调用函数组件本身</li><li>我们可以在函数组件里写一个输出语句，能直观地知道组件渲染了几次</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取dom对象">获取DOM对象<a href="#获取dom对象" class="hash-link" aria-label="获取DOM对象的直接链接" title="获取DOM对象的直接链接">​</a></h3><ul><li><p>在React中可以传统地利用document来对DOM进行操作</p></li><li><p>直接从React处获取DOM对象</p><ol><li>创建一个存储DOM对象的容器</li></ol><ul><li>使用 useRef() 钩子函数</li><li>钩子函数的注意事项：<ul><li>React中的钩子函数只能用于函数组件或自定义钩子</li><li>钩子函数只能直接在函数组件中调用</li></ul></li></ul><ol start="2"><li>将容器设置为想要获取DOM对象元素的ref属性</li></ol><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">{xxx}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">....</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">!--React会自动将当前元素的DOM对象，设置为容器current属性</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="useref">useRef()<a href="#useref" class="hash-link" aria-label="useRef()的直接链接" title="useRef()的直接链接">​</a></h4><ul><li>返回值是一个普通的js对象</li><li>{current:undefined}</li><li>所以我们直接创建一个js对象，也可以代替useRef()</li><li>区别：<ul><li>我们创建的对象，组件每次重新渲染都会创建一个新对象</li><li>useRef()创建的对象，可以确保每次渲染获取到的都是同一个对象</li><li>当你需要一个对象不会因为组件的重新渲染而改变时，就可以使用useRef()</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h4><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">useRef</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> h1Ref</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;app&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h1 id</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;title&quot;</span><span class="token plain"> ref</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">h1Ref</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">标题</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token function" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">h1Ref</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">current</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">获取</span><span class="token constant" style="color:#36acaa">DOM</span><span class="token plain">元素</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="类组件使用">类组件使用<a href="#类组件使用" class="hash-link" aria-label="类组件使用的直接链接" title="类组件使用的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prop">prop<a href="#prop" class="hash-link" aria-label="prop的直接链接" title="prop的直接链接">​</a></h3><ul><li><p>类组件的props是存储到类的实例对象中，可以直接通过实例对象访问 <code>this.props</code></p></li><li><p>传数据语法一致，接收数据时props从实参变为类的属性</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">App</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;阿伟&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> age</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;app&#x27;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="state-1">state<a href="#state-1" class="hash-link" aria-label="state的直接链接" title="state的直接链接">​</a></h3><ul><li><p>类组件中state统一存储到了实例对象的state属性中，可以通过 <code>this.state</code>来访问</p></li><li><p>通过 <code>this.setState()</code>对其进行修改</p><ul><li>参数可以为对象或者回调函数</li><li>当我们通过this.setState()修改state时，React只会修改设置了的属性，其他未修改的属性会保留</li><li>但这仅限于state中的直接属性</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Component</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">App</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">state</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">obj</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;阿伟&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;app&#x27;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h1</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">prevState</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">prevState</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">加</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">hr</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">h2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">--</span><span class="token operator" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">obj</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">h2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">obj</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;啊强&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">改变名字</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="data:image/png;base64,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" width="468" height="346" class="img_ev3q"></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="获取dom对象-1">获取DOM对象<a href="#获取dom对象-1" class="hash-link" aria-label="获取DOM对象的直接链接" title="获取DOM对象的直接链接">​</a></h3><p>1.创建一个属性，用来存储DOM对象</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">divRef </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token comment" style="color:#999988;font-style:italic">//除了创建方式不同，其他都与函数组件相同</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>2.将这个属性设置为指定元素的ref值</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="方法">方法<a href="#方法" class="hash-link" aria-label="方法的直接链接" title="方法的直接链接">​</a></h3><ul><li>函数组件中，响应函数直接以函数的形式定义在组件中，但是在类组件中，响应函数是以类的方法来定义</li><li>为了省事，在类组件中响应函数都应该以箭头函数的形式定义<img loading="lazy" src="/assets/images/424233-5a8729bfcb7f4a23d3347a5645ca99a7.PNG" width="1424" height="756" class="img_ev3q"><ul><li>示例中不采用箭头函数的形式声明方法，把该方法绑定给响应函数，由于在调用时没有this所以this为undefined，导致代码报错</li><li>如果采用箭头函数的方式，箭头函数没有自己的this，this等于外层作用域中的this，那么就可以避免这种情况发生</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="练习-学习计划表">练习-学习计划表<a href="#练习-学习计划表" class="hash-link" aria-label="练习-学习计划表的直接链接" title="练习-学习计划表的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="card组件">Card组件<a href="#card组件" class="hash-link" aria-label="Card组件的直接链接" title="Card组件的直接链接">​</a></h3><p>多个组件有共同的样式，我们可以把这些样式写在一个组件里，并把这些组件写在UI文件夹里【一般这个文件夹拿来放和核心数据和业务无关的组件】</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./Card.css&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Card</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">card </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">props</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation property-access">className</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">children</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Card</span><span class="token plain"> className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;logs&quot;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Item</span><span class="token plain"> item</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> key</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Card</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>props.children获取父组件使用本组件时标签体的内容，这一步让Card组件的内容由使用它的组件定义</li><li>html标签内的属性才是有效的，组件里的属性是用来传递的，在最终的html标签内不设置就不会生效</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="双向绑定">双向绑定<a href="#双向绑定" class="hash-link" aria-label="双向绑定的直接链接" title="双向绑定的直接链接">​</a></h3><ul><li>非受控组件<ul><li>表单数据由DOM本身处理。即不受setState()的控制，与传统的HTML表单输入相似，input输入值即显示最新值。可以通过ref读取非受控组件的内容</li></ul></li><li>受控组件
-就是受我们控制的组件，组件的状态全程响应外部数据</li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">将表单中的数据存储到state中，然后将state设置为表单项value值，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这样当表单项发生变化，state会随之变化，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">反之，state发生变化，表单项也会跟着改变，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这种操作我们就称为双向绑定，这样一来，表单就成为了一个受控组件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>注意事项<ul><li>在使用双向绑定声明表单数据的useState()要有初始值，原因是如果没有初始值，生成的表单<code>&lt;input value=udefined&gt;&lt;/input&gt;</code>，React会把它解析成非受控组件，出现代码报错</li></ul></li><li>参考博客<ul><li><a href="https://blog.csdn.net/m0_65349389/article/details/128580778?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167644944016800213086658%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=167644944016800213086658&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~times_rank-2-128580778-null-null.142%5Ev73%5Econtrol,201%5Ev4%5Eadd_ask,239%5Ev1%5Econtrol&amp;utm_term=%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6%E5%92%8C%E9%9D%9E%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener noreferrer">受控组件与非受控组件</a></li><li><a href="https://blog.csdn.net/wsdshdhdhd/article/details/125051705?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=A%20component%20is%20changing%20an%20unc&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-125051705.nonecase&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener noreferrer">代码报错</a></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="state提升">state提升<a href="#state提升" class="hash-link" aria-label="state提升的直接链接" title="state提升的直接链接">​</a></h3><p>如果多个组件需要使用同一个数据，那么我们可以把这个数据提升到他们最近的共同祖先，这就是state提升</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="子传父数据">子传父数据<a href="#子传父数据" class="hash-link" aria-label="子传父数据的直接链接" title="子传父数据的直接链接">​</a></h3><p>可以在父组件中定义一个响应函数，通过属性传递给子组件，子组件传参调用响应函数实现传递数据</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="遮罩层">遮罩层<a href="#遮罩层" class="hash-link" aria-label="遮罩层的直接链接" title="遮罩层的直接链接">​</a></h3><p>在这个练习中，我们弹出确认框后不希望用户对网页做其他操作，可以添加一个遮住整个网页的遮罩层，遮罩层应该放在UI里</p><p><img loading="lazy" src="/assets/images/20230216_154048__-78d8516f3dcf6bd0730c2990af976388.PNG" width="1379" height="216" class="img_ev3q"></p><p><img loading="lazy" src="/assets/images/20230216_154240_555-cf665ff44fa6f8a6b91f9e0fc6f00480.PNG" width="825" height="508" class="img_ev3q"></p><p>上述将遮罩层写在item里，这带来一个问题，假如后面代码维护中对修改了item的样式，会带来一系列问题：</p><ol><li>item开启相对定位，遮罩层从相对html到相对item，会出现遮罩层只能盖自己的情况</li></ol><p><img loading="lazy" src="/assets/images/20230216_154735__-113279a9e0779b63b3bcf9b92ab44779.PNG" width="1001" height="810" class="img_ev3q">
2. 为解决这个问题，给backdrop开启固定定位，因为排后面的item层级更高，盖不住</p><p><img loading="lazy" src="/assets/images/20230216_155014__1-2dd7ae2d8dc4fd782aa844d7c5f41e8b.PNG" width="1010" height="778" class="img_ev3q">
3. 于是再给backdrop设置层级=999，这时bug解决了
4. 但如果给item设置层级=1，又会出现第二步的问题</p><p>以上的解决办法治标不治本，导致这些bug是因为<strong>覆盖整个网页的遮罩层不应该写在item内</strong>，但是我们又必须把遮罩层写在item里，因为删除按钮在每一个item上，我们需要根据删除按钮弹出遮罩层，这时就需要一个新的工具：portal</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="portal">portal<a href="#portal" class="hash-link" aria-label="portal的直接链接" title="portal的直接链接">​</a></h3><ul><li>组件默认会作为父组件的后代渲染到页面中,但是有些情况下，这种方式会带来一些问题</li><li>通过portal可以将组件渲染到页面中的指定位置</li><li>使用方法：<ol><li>在index.html添加一个新的元素</li><li>修改组件的渲染方式<ul><li>通过ReactDOM.createPortal()作为返回值创建元素</li><li>参数：<ol><li>jsx（修改前return后的代码）</li><li>目标位置（DOM元素）</li></ol></li></ul></li></ol></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="样式">样式<a href="#样式" class="hash-link" aria-label="样式的直接链接" title="样式的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="内联样式">内联样式<a href="#内联样式" class="hash-link" aria-label="内联样式的直接链接" title="内联样式的直接链接">​</a></h3><ul><li><p>在React中可以直接通过标签的style属性来为元素设置样式。</p></li><li><p>style属性需要的是一个对象作为值，来为元素设置样式。</p></li><li><p>传递样式时，需要注意如果样式名不符合驼峰命名法，需要将其修改为符合驼峰命名法的名字。比如：background-color改为backgroundColor。</p></li><li><p>如果内联样式编写过多，会导致JSX变得异常混乱，此时也可以将样式对象定义到JSX外，然后通过变量引入。</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> appStyle</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">color</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;white&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">witdh</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;200px&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">height</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;200px&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">backgroundColor</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;red&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div style</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">appStyle</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">我是app</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>使用内联样式会使我们代码变得复杂，不利于后期维护，只建议在项目局部偶尔使用。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="样式表">样式表<a href="#样式表" class="hash-link" aria-label="样式表的直接链接" title="样式表的直接链接">​</a></h3><ul><li>外部样式是将样式编写到外部的css文件中，然后直接通过import进行引入</li><li>直接通过import引入的样式都是全局样式，如果不同的样式表中出现了相同的类名，会出现相互覆盖情况。</li><li>样式表这种形式一般用于写一些普遍的全局样式。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="css模块">CSS模块<a href="#css模块" class="hash-link" aria-label="CSS模块的直接链接" title="CSS模块的直接链接">​</a></h3><ul><li><p>如果没有类名冲突的问题，外部CSS样式表不失为是一种非常好的编写样式的方式。为了解决这个问题React为我们提供了另一种方式，CSS Module。</p></li><li><p>在于使用CSS Module后，网页中元素的类名会自动计算生成并确保唯一。</p></li><li><p>使用步骤：</p><ul><li>使用CSS Module编写的样式文件的文件名必须为xxx.module.css</li><li>在组件中引入样式的格式为import xxx from &#x27;./xxx.module.css&#x27;</li><li>设置类名时需要使用xxx.yyy的形式来设置</li></ul><p><img loading="lazy" src="/assets/images/20230218_214406__-e6d2ab71f59dcbcb33d849e728576b3e.PNG" width="464" height="321" class="img_ev3q"></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="动态设置样式">动态设置样式<a href="#动态设置样式" class="hash-link" aria-label="动态设置样式的直接链接" title="动态设置样式的直接链接">​</a></h3><ul><li><p>内联样式</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> pStyle </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">color</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;red&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">backgroundColor</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;#bfa&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">border</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> redBorder </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;red solid 1px&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;blue solid 1px&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>样式表</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">{`p1</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">${redBorder?&#x27;&#x27;:</span><span class="token tag attr-name" style="color:#00a4db">&#x27;blueBorder&#x27;}`}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">我是一个段落</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>样式模块</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">p</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">className</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">{`${classes.p1}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">${showBorder</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">?</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">classes.Border</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">:</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">&#x27;&#x27;}`}</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">我是一个段落</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">p</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>样式表和样式模块都是采用模板字符串实现类名的拼接来动态设置样式</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fragment">Fragment<a href="#fragment" class="hash-link" aria-label="Fragment的直接链接" title="Fragment的直接链接">​</a></h2><p>在React中，JSX必须有且只有一个根元素，但有时我们又想去掉最外层根元素，只显示最里面的内容，这时候只需要设置根元素 <code>&lt;React.Fragment&gt;&lt;/React.Fragment&gt;</code>,或者用语法糖 <code>&lt;&gt;&lt;/&gt;</code></p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//底层原理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function maybe-class-name" style="color:#d73a49">MyFragment</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">children</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">MyFragment</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="引入fontawesome">引入FontAwesome<a href="#引入fontawesome" class="hash-link" aria-label="引入FontAwesome的直接链接" title="引入FontAwesome的直接链接">​</a></h2><ul><li><a href="https://fontawesome.com/docs/web/use-with/react/" target="_blank" rel="noopener noreferrer">文档</a></li><li>安装依赖<ul><li>npm i --save @fortawesome/fontawesome-svg-core</li><li>npm i --save @fortawesome/free-solid-svg-icons</li><li>npm i --save @fortawesome/free-regular-svg-icons</li><li>npm i --save @fortawesome/react-fontawesome@latest</li></ul></li><li>使用<ul><li>引入组件<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports maybe-class-name">FontAwesomeIcon</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@fortawesome/react-fontawesome&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>引入图标<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">faPlus</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@fortawesome/free-solid-svg-icons&quot;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>使用组件<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">FontAwesomeIcon</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">icon</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">{faPlus}/</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Context的直接链接" title="Context的直接链接">​</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">在React中组件间的数据通信是通过props进行的，父组件给子组件设置props，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">子组件给后代组件设置props，props在组件间自上向下（父传子）的逐层传递数据。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">但并不是所有的数据都适合这种传递方式，比如我们的数据在App组件里，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">要用到数据的组件同APP隔好几代，如果还采用props的形式传递数据，不仅特别麻烦还使得代码不容易维护。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>Context相当于一个公共的存储空间，我们可以将多个组件中都需要访问的数据统一存储到一个Context中，这样无需通过props逐层传递，即可使组件访问到这些数据</p></li><li><p>存放Context的文件放在store文件夹下</p></li><li><p>创建Context</p><ul><li>通过<code>React.createContext()</code>创建</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">TestContext</span><span class="token operator" style="color:#393A34">=</span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;默认值&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token maybe-class-name">TestContext</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>使用Context
方式1：采用消费者这种模式</p><ol><li>引入Context</li><li>使用 Xxx.Consumer 组件来创建元素</li><li>Consumer 的标签体需要一个回调函数，它会将Context设置为回调函数的参数，通过参数就可以访问到Context中存储的数据</li></ol><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">TestContext</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./store/TestContext&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">A</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">TestContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Consumer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token comment" style="color:#999988;font-style:italic">//默认值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">TestContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Consumer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p>方式2：使用钩子函数</p><ol><li>导入Context</li><li>使用钩子函数useContext()获取到Context<ul><li>useContext() 需要一个Context作为参数</li><li>它会将Context中数据获取并作为返回值返回</li></ul></li></ol><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useContext </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">TestContext</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./store/TestContext&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">B</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ctx</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useContext</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">TestContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//默认值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>向Context传值：<strong>Xxx.Provider</strong></li><li>表示数据的生产者，可以使用它来指定Context中的数据</li><li>通过value来指定Context中存储的数据，这样一来，在该组件的所有的后代组件中都可以通过Context来访问它所指定数据</li><li>当我们通过Context访问数据时，他会读取离他最近的Provider中的数据，如果没有Provider，则读取Context中的默认数据<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;TestContext.Provider value={&quot;新值&quot;}&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">A</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain">//新值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">B</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain">//新值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">TestContext.Provider</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="汉堡到家练习">汉堡到家练习<a href="#汉堡到家练习" class="hash-link" aria-label="汉堡到家练习的直接链接" title="汉堡到家练习的直接链接">​</a></h2><p>注意点：</p><ol><li>CleanConfirm的Backdrop的层级应该更高，给它添加一个样式覆盖掉购物车</li><li>使用模板字符串拼接样式记得样式中间要用空格隔开</li><li>在函数组件体内修改state，会报to many re-renders错误，原因是这导致组件陷入死循环，一直在重新渲染</li><li>至今还有一个bug，加购后搜索Meals中的食品数量会丢失，因为用MEAL_DATA过滤</li><li>利用Effect降低数据过滤的次数，提高用户体验，当用户停止输入动作1秒后，才提交查询</li><li>使用Reducer优化state结构，由于我们将修改meal.amount的代码放进reducer函数里，在严格模式下会被调用两次，导致开发时结果不准确（meal.amount加了两次）</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="effect">Effect<a href="#effect" class="hash-link" aria-label="Effect的直接链接" title="Effect的直接链接">​</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">React组件有部分逻辑都可以直接编写到组件的函数体中的，像是对数组调用filter、map等方法，像是判断某个组件是否显示等。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">但是有一部分逻辑如果直接写在函数体中，会影响到组件的渲染，这部分会产生“副作用”的代码，是一定不能直接写在函数体中。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">例如，如果直接将修改state的逻辑编写到了组件之中，就会导致组件不断的循环渲染，直至调用次数过多内存溢出。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="reactstrictmode">React.StrictMode<a href="#reactstrictmode" class="hash-link" aria-label="React.StrictMode的直接链接" title="React.StrictMode的直接链接">​</a></h3><p>编写React组件时，我们要极力的避免组件中出现那些会产生“副作用”的代码。同时，如果你的React使用了严格模式，也就是在React中使用了React.StrictMode标签，那么React会非常“智能”的去检查你的组件中是否写有副作用的代码：在处于开发模式下，会主动的重复调用一些函数，以使副作用显现。</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="重复调用的函数">重复调用的函数<a href="#重复调用的函数" class="hash-link" aria-label="重复调用的函数的直接链接" title="重复调用的函数的直接链接">​</a></h4><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">类组件的的 constructor, render, 和 shouldComponentUpdate 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">类组件的静态方法 getDerivedStateFromProps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">函数组件的函数体</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">参数为函数的setState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">参数为函数的useState, useMemo, or useReducer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="工具">工具<a href="#工具" class="hash-link" aria-label="工具的直接链接" title="工具的直接链接">​</a></h4><p>通过浏览器安装React Developer Tools可以在控制台对二次调用的结果标灰</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="函数组件setstate的流程">函数组件setState的流程<a href="#函数组件setstate的流程" class="hash-link" aria-label="函数组件setState的流程的直接链接" title="函数组件setState的流程的直接链接">​</a></h3><ul><li>底层调用dispatchSetDate()，会先判断组件处于什么阶段<ul><li>如果在渲染阶段（第一次初始化组件），不会去比较state值是否改变，直接重新渲染</li><li>如果在非渲染阶段（组件已经渲染完毕），state值不改变，不渲染，state值改变，则重新渲染<ul><li>值不改变，React在一些情况下会继续执行当前组件的重新渲染，但是这个渲染不会触发子组件的渲染，这次渲染不会产生实际的效果</li><li>这种情况一般发生在state值第一次不改变的时候</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用useeffect">使用useEffect<a href="#使用useeffect" class="hash-link" aria-label="使用useEffect的直接链接" title="使用useEffect的直接链接">​</a></h3><ul><li>useEffect是一个钩子函数，需要一个回调函数作为参数<ul><li>回调函数会在组件渲染完毕后调用</li><li>在开发将产生“副作用”的代码写到useEffect的回调函数中，这样就可以避免这些代码影响组件的渲染</li><li>相当于把回调函数里的代码放进了一个定时器</li></ul></li><li>可以传递第二个参数，第二个参数是一个数组，表示依赖项，当依赖项发生变化useEffect才会执行<ul><li>通常会将useEffect中使用的变量都设置成依赖项，这样一来可以确保这些值发生变化时，会触发useEffect的执行</li><li>useState会确保组件每次渲染都获取到相同的setState()对象，所以这个依赖项可写可不写</li><li>如果依赖项设置了一个空数组，则意味着Effect只会在组件初始化时执行一次</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="useeffect清理函数">useEffect清理函数<a href="#useeffect清理函数" class="hash-link" aria-label="useEffect清理函数的直接链接" title="useEffect清理函数的直接链接">​</a></h4><ul><li>在useEffect参数1（回调函数），可以指定一个函数作为返回值</li><li>这个函数可以称其为清理函数，它会在下次Effect执行前调用</li><li>可以在这个函数中，做一些工作来清除上次Effect执行所带来的影响</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reducer">Reducer<a href="#reducer" class="hash-link" aria-label="Reducer的直接链接" title="Reducer的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="为什么需要reducer">为什么需要Reducer<a href="#为什么需要reducer" class="hash-link" aria-label="为什么需要Reducer的直接链接" title="为什么需要Reducer的直接链接">​</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">由于使用state只有调用setState能修改state的值，当我们实现和state相关功能时不得不</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">利用setState封装多种方法，如果这些方法很多，不利于后期对代码进行维护</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Reducer可以翻译为“整合器”，它的作用就是将那些和同一个state相关的所有函数都整合到一起，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">方便在组件中进行调用，使用Reducer解决复杂state带来的不便，优化代码结构。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usereducer">useReducer<a href="#usereducer" class="hash-link" aria-label="useReducer的直接链接" title="useReducer的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="参数">参数<a href="#参数" class="hash-link" aria-label="参数的直接链接" title="参数的直接链接">​</a></h4><ol><li>reducer</li></ol><ul><li>一个回调函数，对于我们当前state的所有操作都应该在该函数中定义</li><li>该函数的返回值，会成为state的新值</li><li>回调函数的第一个参数(state)是当前最新的state，React自动帮我们传</li><li>回调函数的第二个参数(action)是一个对象，在对象中会存储dispatch指令，指令在调用dispath时传参定义。<ul><li>reducer封装多个操作state的函数，可以根据action中的指令调用不同的函数</li></ul></li><li>如果把reducer写在函数组件内部，组件每渲染一次，reducer就会重复创建一次，所以可以把reducer定义在函数组件外部</li></ul><ol start="2"><li>initialArg</li></ol><ul><li>表示state的初始值，作用和useState()的参数是一样的</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="返回值返回一个数组">返回值：返回一个数组<a href="#返回值返回一个数组" class="hash-link" aria-label="返回值：返回一个数组的直接链接" title="返回值：返回一个数组的直接链接">​</a></h4><ul><li>数组<!-- -->[0]<!-- -->xxx，用来获取state的值</li><li>数组<!-- -->[1]<!-- -->xxxDispatch，用来修改state的派发器<ul><li>通过派发器可以发送修改state的命令</li><li>具体的修改行为会由另外一个函数（reducer）执行</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reactmemo">React.memo<a href="#reactmemo" class="hash-link" aria-label="React.memo的直接链接" title="React.memo的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="为什么需要memo">为什么需要memo<a href="#为什么需要memo" class="hash-link" aria-label="为什么需要memo的直接链接" title="为什么需要memo的直接链接">​</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">React组件会在两种情况下发生重新渲染。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">第一种，当组件自身的state发生变化时。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">第二种，当组件的父组件重新渲染时。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">第一种情况下的重新渲染无可厚非，state都变了，组件自然应该重新进行渲染。但是第二种情况似乎并不是总那么的必要。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用">使用<a href="#使用" class="hash-link" aria-label="使用的直接链接" title="使用的直接链接">​</a></h3><ul><li>只用于函数组件</li><li>React.memo()是一个高阶组件，它接收另一个组件作为参数，并且会返回一个包装过的新组件</li><li>包装后的新组件拥有缓存功能，父组件触发渲染后，只能当前组件的props发生变化，才会触发组件的重新渲染，否则总是返回缓存的结果</li><li>开发中组件数据比较庞大复杂，可以使用memo减少该组件非必要的渲染</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="usecallback">useCallBack<a href="#usecallback" class="hash-link" aria-label="useCallBack的直接链接" title="useCallBack的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="为什么需要callback">为什么需要CallBack?<a href="#为什么需要callback" class="hash-link" aria-label="为什么需要CallBack?的直接链接" title="为什么需要CallBack?的直接链接">​</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">上述使用memo使得父组件重新渲染，如果props发生改变，子组件才会重新渲染</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果父组件给子组件传的是一个引用数据类型（例如一个响应函数），</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">父组件重新渲染，该值会发生改变，子组件依然会渲染，对于这种情况，memo是无效的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">针对这个情况，React采用useCallBack这个钩子函数</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-1">使用<a href="#使用-1" class="hash-link" aria-label="使用的直接链接" title="使用的直接链接">​</a></h3><ul><li>useCallBack()用来创建React响应函数且创建的响应函数不会在组件重新渲染时重新创建</li><li>参数</li></ul><ol><li>回调函数</li><li>依赖数组：<ul><li>当依赖数组中的变量发生变化时，回调函数才会重新创建</li><li>如果不指定依赖数组，回调函数每次都会重新创建</li><li>依赖数组为空，意味着回调函数只在初始化时创建一次</li><li>一定要将回调函数中使用到的所有变量都设置成依赖项（除了setState）</li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="strapi">Strapi<a href="#strapi" class="hash-link" aria-label="Strapi的直接链接" title="Strapi的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="作用">作用<a href="#作用" class="hash-link" aria-label="作用的直接链接" title="作用的直接链接">​</a></h3><ul><li>Strapi，它可以帮助我们方便快捷的搭建起一个供我们使用的API服务器。</li><li>Strapi就是一个API的管理系统，通过Strapi我们可以直接以网页的形式去定义自己的API、包括设置模型、权限等功能。</li><li>有了Strapi我们无需编写代码便可开发出功能强大的API。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建项目">创建项目<a href="#创建项目" class="hash-link" aria-label="创建项目的直接链接" title="创建项目的直接链接">​</a></h3><ul><li>安装strapi,使用下面命令<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npx create-strapi-app@latest 项目名 --quickstart</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//安装之前要保证node和npm的版本合适</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token property" style="color:#36acaa">&quot;engines&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;node&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&gt;=14.19.1 &lt;=18.x.x&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;npm&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;&gt;=6.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>使用命令后如果npm报错，则删除node_module，使用<code>cnpm install</code>安装所需要的包</li><li>如果以上操作安装strapi仍有出错（例如后来我发现我的strapi汉化后构建会出现报错：缺少XXX文件），可以尝试下载其他版本的strapi<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npx create-strapi-app@4.3.8 项目名称</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>创建项目后弹出一个注册页面，可以注册一个管理员</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="汉化项目">汉化项目<a href="#汉化项目" class="hash-link" aria-label="汉化项目的直接链接" title="汉化项目的直接链接">​</a></h3><ul><li><p>在src下的admin有一个app.example.js的模板文件，复制它并重命名为app.js，配置语言为&quot;zh-Hans&quot;</p><p><img loading="lazy" src="/assets/images/20230307_211505__-7044875fbb5cb05ff145fc3a76967dd2.PNG" width="829" height="463" class="img_ev3q"></p></li><li><p>对项目进行重新构建</p></li><li><p>在网页修改界面语言，管理员名-&gt;Profile-&gt;修改语言</p><p><img loading="lazy" src="/assets/images/20230307_211527__1-145ee32e0b3f010450867f57a882849b.PNG" width="620" height="734" class="img_ev3q"></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="具体使用">具体使用<a href="#具体使用" class="hash-link" aria-label="具体使用的直接链接" title="具体使用的直接链接">​</a></h3><ul><li><p>创建新的数据类型：模型构建器-&gt;创建一个新的Content Type</p><p><img loading="lazy" src="/assets/images/20230307_212522__-9ea9ca0063c524035b5548a3c1075193.png" width="1223" height="845" class="img_ev3q"></p></li><li><p>创建多个字段，保存后等待服务器重启</p><p><img loading="lazy" src="/assets/images/20230307_212858__-f96264e287be6df8fa276e740d9a187c.PNG" width="1058" height="644" class="img_ev3q"></p><ul><li>无需创建id字段，strapi会自动给我们生成id</li></ul></li><li><p>创建数据：内容管理器-&gt;添加条目-&gt;发布</p><p><img loading="lazy" src="data:image/png;base64,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" width="315" height="291" class="img_ev3q"></p><ul><li>不发布处于草稿状态，不会真的生效</li><li>在模型构建器，点击相关模型的编辑按钮-&gt;高级设置-&gt;设置自动发布</li></ul></li><li><p>设置权限：设置-&gt;用户及权限插件-&gt;角色列表-&gt;编辑各个角色的权限</p><p><img loading="lazy" src="/assets/images/20230307_214011__-6c3b50b622b55eb8c1a7aa7e4e18e9d2.PNG" width="1159" height="852" class="img_ev3q"></p></li><li><p>使用Postman访问api</p><p><img loading="lazy" src="/assets/images/20230307_215341__api-69ed5a203c8d964c600adf64d2e3d686.PNG" width="806" height="438" class="img_ev3q"></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="react中使用fetch发生请求">React中使用fetch发生请求<a href="#react中使用fetch发生请求" class="hash-link" aria-label="React中使用fetch发生请求的直接链接" title="React中使用fetch发生请求的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetch-promise">fetch-Promise<a href="#fetch-promise" class="hash-link" aria-label="fetch-Promise的直接链接" title="fetch-Promise的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//表示正在加载</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setLoading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;http://localhost:1337/api/students&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;get&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">status</span><span class="token operator" style="color:#393A34">===</span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;数据加载失败！&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setStudents</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setLoading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//收到异常则数据加载完毕</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setLoading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//记录错误信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setFault</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fetch-await">fetch-await<a href="#fetch-await" class="hash-link" aria-label="fetch-await的直接链接" title="fetch-await的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fetchData </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//表示正在加载</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setLoading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;http://localhost:1337/api/students&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;get&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">status</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;数据加载失败&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function" style="color:#d73a49">setLoading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>注意点：useCallBack里有state,不设置依赖会出现拿不到更新后的state，可以把state作为参数传递进回调函数</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="自定义钩子">自定义钩子<a href="#自定义钩子" class="hash-link" aria-label="自定义钩子的直接链接" title="自定义钩子的直接链接">​</a></h2><ul><li><p>React中的钩子函数只能直接在函数组件或自定义钩子中调用，当我们需要将React中的钩子函数提取到一个公共区域时，就可以使用自定义钩子</p></li><li><p>自定义钩子就是一个普通函数，只是它的名字需要使用use开头</p></li><li><p>自定义钩子函数就是可以调用其他钩子函数的钩子函数</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useState</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports">useCallback</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">reqObj:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    way:路径,</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    option:{路由信息配置对象},</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    errorDesc:错误描述信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">},</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">cb:回调函数,用来刷新数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useFetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">reqObj</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">cb</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//记录数据的state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setData</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/*添加一个state来记录数据是否正在加载 ,ture表示正在加载，false表示加载完毕*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">loading</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setLoading</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    /*添加一个state记录错误信息 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setError</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">way</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">option</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">errorDesc</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">reqObj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> fetchF </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">id</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">body</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">setError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">setLoading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">//修改和添加数据会传参设置body</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                option</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">body</span><span class="token operator" style="color:#393A34">=</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> body </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">//修改会设置id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// eslint-disable-next-line react-hooks/exhaustive-deps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                way</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">way</span><span class="token operator" style="color:#393A34">+</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">option</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">way</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> res </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">way</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">option</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">status</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token comment" style="color:#999988;font-style:italic">//res.json()返回一个Promise,使用await获得PromiseResult</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">setData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                cb </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cb</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword control-flow" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">errorDesc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">setError</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">toString</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">finally</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token function" style="color:#d73a49">setLoading</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">loading</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">error</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">fetchF</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="redux">Redux<a href="#redux" class="hash-link" aria-label="Redux的直接链接" title="Redux的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="什么是redux">什么是Redux<a href="#什么是redux" class="hash-link" aria-label="什么是Redux的直接链接" title="什么是Redux的直接链接">​</a></h3><p>一个专为JS应用设计的可预期的状态容器,它使用一个store对多个state进行统一管理</p><ul><li>状态：<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">状态就是一个变量，用以记录程序执行的情况。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>容器：<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">容器当然是用来装东西的，状态容器即用来存储状态的容器。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">状态多了，自然需要一个东西来存储，但是容器的功能却不是仅仅能存储状态，它实则是一个状态的管理器。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">除了存储状态外，它还可以用来对state进行查询、修改等所有操作。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>可预期：<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">之前学习的state使用useState的钩子函数获得初始值和修改state值的方法，我们使用方法可以对state值做任意修改，所以这种方式是不可预期的。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Redux中对状态所有的操作都封装到了容器内部，外部只能通过调用容器提供的方法来操作state，而不能直接修改state。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">这就意味着外部对state的操作都被容器所限制，对state的操作都在容器的掌控之中，也就是可预测。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="为什么需要redux">为什么需要Redux?<a href="#为什么需要redux" class="hash-link" aria-label="为什么需要Redux?的直接链接" title="为什么需要Redux?的直接链接">​</a></h3><ul><li>之前学习Reducer解决state复杂的问题，学习Context解决state传递问题，但是如果开发大型应用只是使用Reducer和Context，不会非常便利</li><li>Redux可以理解为是reducer和context的结合体，使用Redux即可管理复杂的state，又可以在不同的组件间方便的共享传递state。</li><li>Redux多用于大型应用的开发</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-2">使用<a href="#使用-2" class="hash-link" aria-label="使用的直接链接" title="使用的直接链接">​</a></h3><ul><li><p>网页使用</p><ol><li><p>引入redux核心包</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">https://unpkg.com/redux@4.2.0/dist/redux.js</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>创建reducer整合函数，同useReducer里的reducer</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">reducer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">//可以在这里指定state的初始值：state=xxx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token keyword control-flow" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;SUB&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ADD&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token operator" style="color:#393A34">+</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token keyword module" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>创建store（容器）</p><ul><li>参数1：reducer</li><li>参数2：state的初始值，由于redux把所有state整合在一起，所以一般state是一个对象</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> store</span><span class="token operator" style="color:#393A34">=</span><span class="token maybe-class-name">Redux</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reducer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">count</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>对store中的state进行订阅</p></li></ol><ul><li>参数是一个回调函数，当state发生变化时，回调函数会执行<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">subscribe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    num</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">textContent</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">count</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><ol start="5"><li>通过dispatch派发state的操作指令<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">subBtn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onclick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;SUB&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">addBtn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onclick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;ADD&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><ul><li>dispatch触发reducer函数，reducer函数内部修改state值，触发订阅回调函数的执行</li></ul></li><li><p>问题</p><ul><li>如果state过于复杂，将会非常难以维护<ul><li>可以通过对state分组来解决这个问题，创建多个reducer，然后将其合并成一个</li></ul></li><li>state每次操作时，都需要对state进行复制，然后再去修改</li><li>case后面的常量维护起来比较麻烦</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="redux-toolkitrtk">Redux Toolkit(RTK)<a href="#redux-toolkitrtk" class="hash-link" aria-label="Redux Toolkit(RTK)的直接链接" title="Redux Toolkit(RTK)的直接链接">​</a></h2><ul><li>上述中我们通过Redux核心库来使用Redux，除了核心库React还为我们提供了一种使用Redux的方式————Redux Toolkit</li><li>RTK，即Redux工具包，帮助我们处理使用Redux的重复性工作，简化Redux中的各种操作</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="引入rtk">引入RTK<a href="#引入rtk" class="hash-link" aria-label="引入RTK的直接链接" title="引入RTK的直接链接">​</a></h3><p>需要安装两个包：react-redux和@reduxjs/toolkit</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install react-redux @reduxjs/toolkit -S</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用rtk">使用RTK<a href="#使用rtk" class="hash-link" aria-label="使用RTK的直接链接" title="使用RTK的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="创建reducer切片">创建reducer切片<a href="#创建reducer切片" class="hash-link" aria-label="创建reducer切片的直接链接" title="创建reducer切片的直接链接">​</a></h4><ul><li>调用createSlice</li><li>参数：options，有以下属性：<ul><li>name：用来自动生成action中的type</li><li>initialState：state的初始值<ul><li>可以传一个回调函数，回调函数的返回值会作为state初始值</li></ul></li><li>reducers：是一个对象，通过方法指定state的各种操作<ul><li>方法有两个参数：state和action</li><li>这里的state是一个原生state的代理对象，可以直接修改state的值</li><li>action同之前</li></ul></li></ul></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports">configureStore</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> createSlice</span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@reduxjs/toolkit&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> stuSlice</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">createSlice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;stu&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">initialState</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">name</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;啊伟&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">age</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">gender</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;男&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">address</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;广东&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">reducers</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">setName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;阿强&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">setAge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">action</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">20</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="获得action">获得action<a href="#获得action" class="hash-link" aria-label="获得action的直接链接" title="获得action的直接链接">​</a></h4><ul><li>切片对象.actions;</li><li>actions存储切片自动生成action创造器（函数），调用函数会自动创建action对象</li><li>生成的action对象：{type:name/函数名,payload:xxx}</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stuSlice</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">actions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> nameAction</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">setName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;哈哈&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ageAction</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">setAge</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nameAction</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">ageAction</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/20230316_165249__-56d0987c95d63bdf6289c78b27cc1504.PNG" width="630" height="174" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="生成store">生成store<a href="#生成store" class="hash-link" aria-label="生成store的直接链接" title="生成store的直接链接">​</a></h4><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> store</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">configureStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">reducer</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">stu</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">stuSlice</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">reducer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="使用store">使用store<a href="#使用store" class="hash-link" aria-label="使用store的直接链接" title="使用store的直接链接">​</a></h4><ul><li><p>根节点使用Provider注入store</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Provider</span><span class="token plain"> store</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Provider</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>useSelector()</p><ul><li>用来加载state中的数据</li><li>参数是一个回调函数，回调函数的参数会接收一整个state</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> student</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useSelector</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">state</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">student</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>useDispatch</p><ul><li>用来获取派发器对象</li><li>dispatch(调用action创造器)派发指令</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dispatch</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useDispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">changeNameHandler</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">dispatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">setName</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;阿强&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="/assets/images/20230318_223534_FullSizeRender-b850100544ec028c9cf32d3bb2ec9dbb.jpg" width="2164" height="793" class="img_ev3q"></p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rtk拆分">RTK拆分<a href="#rtk拆分" class="hash-link" aria-label="RTK拆分的直接链接" title="RTK拆分的直接链接">​</a></h3><ul><li>在开发中应该将不同切片封装在不同文件（模块），再暴露出actions和reducer，使得项目文件结构更加清晰，便于维护</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rtkq的定义">RTKQ的定义<a href="#rtkq的定义" class="hash-link" aria-label="RTKQ的定义的直接链接" title="RTKQ的定义的直接链接">​</a></h2><ul><li><p>上述我们使用RTK管理state，目前我们的state是本地的，并不与服务器关联。</p></li><li><p>RTK Query是一个强大的数据获取和缓存工具，在它的帮助下，我们不再需要自己编写获取数据和缓存数据的逻辑</p></li><li><p>Web应用中加载数据时需要处理的问题：</p><ul><li>根据不同的加载状态显示不同UI组件</li><li>减少对相同数据重复发送请求</li><li>使用乐观更新，提升用户体验<ul><li>乐观更新：只在数据加载成功才更新数据，否则维持旧数据</li></ul></li><li>在用户与UI交互时，管理缓存的生命周期<ul><li>管理缓存数据的生命周期，例如增加完数据我们需要更新数据，即让缓存数据死亡。</li></ul></li></ul></li><li><p>这些问题，RTKQ都可以帮助我们处理。</p></li><li><p>首先，可以直接通过RTKQ向服务器发送请求加载数据，并且RTKQ会自动对数据进行缓存，避免重复发送不必要的请求。</p></li><li><p>其次，RTKQ在发送请求时会根据请求不同的状态返回不同的值，我们可以通过这些值来监视请求发送的过程并随时中止。</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="rtkq的使用">RTKQ的使用<a href="#rtkq的使用" class="hash-link" aria-label="RTKQ的使用的直接链接" title="RTKQ的使用的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="导包">导包<a href="#导包" class="hash-link" aria-label="导包的直接链接" title="导包的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> createApi</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> fetchBaseQuery </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@reduxjs/toolkit/query/react&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//路径/react 会自动生成钩子函数，一般我们用这个路径</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建api对象">创建Api对象<a href="#创建api对象" class="hash-link" aria-label="创建Api对象的直接链接" title="创建Api对象的直接链接">​</a></h3><ul><li><p><code>createApi()</code>创建RTKQ中的API对象，RTKQ的所有功能都需要通过该对象来进行</p><ul><li><p>需要一个options作为参数：</p><ul><li><p><code>reducerPath:&quot;&quot;</code>Api的标识，不能和其他Api或reducer重复</p></li><li><p><code>baseQuery:fetchBaseQuery()</code>指定查询的基础信息，指定发送请求使用的工具。</p><ul><li><p>fetchBaseQuery是RTKQ对fetch的简单封装，是一个函数</p><ul><li><p>需要一个options作为参数：</p><ul><li><p><code>baseUrl</code>指定基本路径</p></li><li><p><code>prepareHeaders</code>用于统一设置请求头，是一个回调函数</p><ul><li><p>参数1：headers，需要修改headers后对它进行返回</p></li><li><p>参数2：</p><p><img loading="lazy" src="data:image/png;base64,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" width="706" height="141" class="img_ev3q"></p></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function-variable function" style="color:#d73a49">prepareHeaders</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">headers</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    headers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">set</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Authorization&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Bearer </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation dom variable" style="color:#36acaa">localStorage</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation method function property-access" style="color:#d73a49">getItem</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&quot;token&quot;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> headers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li></ul></li></ul></li><li><p><code>tagTypes:[标签名1，标签名2...]</code>用于指定API有什么类型的标签</p></li><li><p><code>endpoints</code></p></li></ul></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> studentApi </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createApi</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">reducerPath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;studentApi&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">baseQuery</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fetchBaseQuery</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">baseUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://localhost:1337/api&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">endpoints</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">build</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token literal-property property" style="color:#36acaa">getStudents</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> build</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token function" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/students&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="endpoints">endpoints<a href="#endpoints" class="hash-link" aria-label="endpoints的直接链接" title="endpoints的直接链接">​</a></h3><ul><li>用来指定Api的各种功能，是一个方法</li><li>其实是一个回调函数，创建完API对象后会自动调用endpoints，传一个build</li><li>参数：build是请求的构建器</li><li>需要一个对象作为返回值，每一个属性设置一个请求，这里就需要用到build</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="build方法">build.方法()<a href="#build方法" class="hash-link" aria-label="build.方法()的直接链接" title="build.方法()的直接链接">​</a></h4><ul><li>需要一个options作为参数，用来定义我们这次查询所用到的信息</li><li>属性</li></ul><ol><li><p>keepUnusedDataFor</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rtkq的缓存机制，第一次操作发送请求，会把所获得的数据缓存下来。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在缓存数据有效期内，相同的操作不会重复发送请求</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">endpoints每一个端点都有自己单独的缓存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">keepUnusedDataFor:10//设置数据缓存的时间，单位秒，默认是60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">数据未使用时开始计时,10s过后缓存数据失效，也就是说10s内相同操作不会重复发送请求</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>providesTags:<!-- -->[...]</p><ul><li>给请求打上标签</li><li>同下，可以传一个对象<code>{type:&quot;标签名&quot;,id:xxx}</code>或者回调函数,对标签进行细化</li></ul></li><li><p>invalidatesTags:<!-- -->[...]</p><ul><li>让标签失效，绑定该标签的请求缓存会失效</li><li>标签可以对应一个对象，让更具体的缓存项失效</li><li>属性值为一个回调函数时，可以操作以下参数：<ul><li>data:请求响应数据</li><li>error:错误信息</li><li>stu:钩子函数所传的第一个参数</li></ul></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function-variable function" style="color:#d73a49">invalidatesTags</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">data</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">err</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter">stu</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token literal-property property" style="color:#36acaa">type</span><span class="token operator" style="color:#393A34">:</span><span class="token string" style="color:#e3116c">&quot;student&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">stu</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><ul><li>方法</li></ul><ol><li>transformResponse<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//用来转换响应数据的格式</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//baseQueryReturnValue就是原本的响应数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">transformResponse</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">baseQueryReturnValue</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> baseQueryReturnValue</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><h4 class="anchor anchorWithStickyNavbar_LWe7" id="buildquery">build.query<a href="#buildquery" class="hash-link" aria-label="build.query的直接链接" title="build.query的直接链接">​</a></h4><ul><li>通过<code>build.query()</code>来设置查询的相关信息<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">//用来指定请求的子路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">返回一个字符串作为子路径</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="buildmutation">build.mutation<a href="#buildmutation" class="hash-link" aria-label="build.mutation的直接链接" title="build.mutation的直接链接">​</a></h4><ul><li><p>通过 <code>build.mutation()</code>来定义我们这次请求所用到的信息</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//如果发送的不是get请求，需要返回一个对象来设置请求的信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">url</span><span class="token operator" style="color:#393A34">:</span><span class="token spread operator" style="color:#393A34">...</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">method</span><span class="token operator" style="color:#393A34">:</span><span class="token constant" style="color:#36acaa">XXX</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="暴露api对象">暴露Api对象<a href="#暴露api对象" class="hash-link" aria-label="暴露Api对象的直接链接" title="暴露Api对象的直接链接">​</a></h3><ul><li>Api对象创建后，对象中会根据各种方法自动的生成对应的钩子函数</li><li>通过这些钩子函数，可以向服务器发送请求</li><li>钩子函数的命名规则：getStudents--&gt;useGetStudentsQuery<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">useGetStudentsQuery</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain">studentApi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">//用于store的配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> studentApi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用api对象">使用Api对象<a href="#使用api对象" class="hash-link" aria-label="使用Api对象的直接链接" title="使用Api对象的直接链接">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="使用store-1">使用store<a href="#使用store-1" class="hash-link" aria-label="使用store的直接链接" title="使用store的直接链接">​</a></h4><ul><li><p>配置store</p><ul><li><p>配置reducer</p></li><li><p>设置中间件</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> configureStore</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> getDefaultMiddleware </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@reduxjs/toolkit&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">studentApi</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./studentApi&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> store</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">configureStore</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">reducer</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">//Api的标识：reducer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">studentApi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">reducerPath</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">studentApi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">reducer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//getDefaultMiddleware获取当前store所有默认的中间件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//将studentApi自动生成的中间件添加到store</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//middleware使得缓存生效，rtkq应用到缓存</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//多个api,concat传进一个数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">middleware</span><span class="token operator" style="color:#393A34">:</span><span class="token parameter">getDefaultMiddleware</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token function" style="color:#d73a49">getDefaultMiddleware</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">concat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">studentApi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">middleware</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> store</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p>注入store</p></li><li><p>使用钩子函数发送请求</p><ul><li><p>钩子函数会返回一个对象作为返回值，请求过程中相关数据都在该对象中存储<img loading="lazy" src="/assets/images/20230319_121824__-38fb4d0dbbc771c461f3245e2238391c.PNG" width="384" height="287" class="img_ev3q"></p></li><li><p>钩子函数传的参数会被传进query()方法里</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> useGetStudentsQuery </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./store/studentApi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> data </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">isSuccess</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">isLoading</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useGetStudentsQuery</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">isLoading </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">数据加载中</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">isSuccess </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">item</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div key</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">id</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">attributes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">attributes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">age</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">attributes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">gender</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">attributes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">address</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usequery的返回值">useQuery()的返回值<a href="#usequery的返回值" class="hash-link" aria-label="useQuery()的返回值的直接链接" title="useQuery()的返回值的直接链接">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token literal-property property" style="color:#36acaa">currentData</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//当前参数的最新数据，当参数发生变化时它会变成undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">data</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword nil" style="color:#00009f">undefined</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//最新加载到的数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">isError</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//布尔值，是否有错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">error</span><span class="token operator" style="color:#393A34">:</span><span class="token known-class-name class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//对象，有错才存在</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">isFetching</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//布尔值，数据是否正在加载</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">isLoading</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//布尔值，数据是否第一次加载，第一次加载时为true，加载完毕后变为false,以后的加载值依旧是false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">isSuccess</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//布尔值，请求是否成功</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">isUninitialized</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//布尔值，请求是否还没有开始发送</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">refetch</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ƒ</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//一个函数，用来重新加载数据</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token literal-property property" style="color:#36acaa">status</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;pending&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">//字符串，请求的状态，pending表示数据加载中，fulfilled表示数据加载完成</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>例如如果用户发送请求后不想显示之前的数据而是显示一个加载中的图标，可以使用currentData，反之使用data</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usequery的参数">useQuery()的参数<a href="#usequery的参数" class="hash-link" aria-label="useQuery()的参数的直接链接" title="useQuery()的参数的直接链接">​</a></h3><ul><li>参数1：会传到query()方法里</li><li>参数2：接收一个对象，通过该对象可以对请求进行配置<ul><li>属性1：selectFromResult，一个回调函数(result)=&gt;{返回值指定结果}，用于指定useQuery返回的结果</li><li>属性2：pollingInterval，默认值是0，设置轮询的间隔，单位毫秒，如果为0则表示不轮询</li><li>属性3：skip，默认值是false，设置是否跳过当前请求</li><li>属性4：refetchOnMountOrArgChange，默认值为false，设置是否每次都重新加载数据<ul><li>还可以指定一个数值表示数据缓存的时间，单位是秒</li></ul></li><li>属性5：refetchOnFocus，默认值是false，是否在重新获取焦点（切换回来页面）时重载数据</li><li>属性6：refetchOnReconnect，默认值是false，是否在网络重新连接后重载数据</li><li>属性5和属性6要想生效，需要在store里设置监听器<code>setupListeners(store.dispatch)</code></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="usemutation的返回值">useMutation的返回值<a href="#usemutation的返回值" class="hash-link" aria-label="useMutation的返回值的直接链接" title="useMutation的返回值的直接链接">​</a></h3><ul><li>返回一个数组<!-- -->[操作的触发器,结果集]</li><li>调用触发器，发送相应的请求</li><li>rtkq会自动转换为json，无需类型转换</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reactrouter">ReactRouter<a href="#reactrouter" class="hash-link" aria-label="ReactRouter的直接链接" title="ReactRouter的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="简介">简介<a href="#简介" class="hash-link" aria-label="简介的直接链接" title="简介的直接链接">​</a></h3><ul><li>使用React这些工具所编写的项目通常都是单页应用（SPA）。单页应用中，整个应用中只含有一个页面，React会根据不同的状态在应用中显示出不同的组件。但是我们之前所编写应用还存在着一个问题，整个应用只存在一个页面，一个请求地址，这就使得用户只能通过一个地址访问应用，当我们点击组件中的不同链接时应用的地址是不会发生变化的。也就是说我们无法随意刷新页面和分享网页。</li><li>为了解决这个问题，我们需要引入一个新的工具React Router，React Router为我们提供一种被称为客户端路由的东西，通过客户端路由可以将URL地址和React组件进行映射，当URL地址发生变化时，它会根据设置自动的切换到指定组件。并且这种切换完全不依赖于服务器。换句话说，在用户看来浏览器的地址栏确实发生了变化，但是这一变化并不由服务器处理，而是通过客户端路由进行切换。</li><li>react router适用于web和原生项目，我们在web项目中使用，所以需要引入的包是react-router-dom。</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="引入版本5">引入版本5<a href="#引入版本5" class="hash-link" aria-label="引入版本5的直接链接" title="引入版本5的直接链接">​</a></h3><p><code>npm install react-router-dom@5 -S</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用router">使用Router<a href="#使用router" class="hash-link" aria-label="使用Router的直接链接" title="使用Router的直接链接">​</a></h3><ul><li>在index.js中引入Router</li><li>将Router设置根标签<ul><li>BrowserRouter根据url地址切换组件，使用过程中和普通的url地址没有区别。<ul><li>此时存在一个问题：</li><li>当我们使用Link构建的链接进行跳转，此行为是发生在客户端，不经过服务器，但是如果在跳转后的页面进行刷新或者点击普通链接，会向服务器发送请求，由于服务器没有关于该url地址的路由，所以会返回404</li><li>我们可以修改服务器的配置，将所有请求都转发到index.html来解决这个问题</li><li>nginx-&gt;conf-&gt;nginx.conf修改配置文件<div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root   html;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">try_files $uri /index.html;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>补充nginx相关命令：</li><li><code>.\nginx.exe -s stop</code>停止服务器</li><li><code>.\nginx.exe -s reload</code>重新加载服务器</li></ul></li><li>HashRouter根据url地址的hash值切换组件<ul><li>服务器不会处理地址栏的哈希值，所以使用HashRouter能很好解决上述问题</li></ul></li></ul></li><li>示例：<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">ReactDOM</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-dom/client&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">App</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./App&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">BrowserRouter</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;react-router-dom&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> root </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">createRoot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;root&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">BrowserRouter</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">App</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">BrowserRouter</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用route">使用Route<a href="#使用route" class="hash-link" aria-label="使用Route的直接链接" title="使用Route的直接链接">​</a></h3><ul><li><p>将组件和url进行映射</p></li><li><p>使用Route组件来映射地址和组件，需要以下参数：</p><ul><li>path：映射的url地址</li><li>exact：布尔值，表示路径是否完全匹配<ul><li>当Route被访问，其对应的组件会自动挂载，默认情况下不是严格匹配。例如在非严格匹配的情况下url=&quot;/about&quot;，组件a关联的path=&quot;/&quot;，b是&quot;/about&quot;，那么a和b都会被挂载。</li></ul></li><li>component：指定要挂载的组件，需要直接传递组件的类，而不是JSX<ul><li>通过component构建的组件，它会自动创建组件并且会自动传递参数。<img loading="lazy" src="/assets/images/20230326_213600_props-47f655e0dbbbaf97be501d3102ba7d7b.PNG" width="702" height="521" class="img_ev3q"></li><li>match--匹配的信息<ul><li>isExact检查路径是否完全匹配</li><li>params请求的参数</li></ul></li><li>location--地址信息</li><li>history--历史记录信息，用于控制页面的跳转<ul><li>push()跳转页面，A-&gt;B-&gt;C，从B<code>push</code>到C，可以回退到B</li><li>replace()替换页面，A-&gt;B-&gt;C，从B<code>replace</code>到C，只能回退到A</li><li>参数都是location对象</li></ul></li></ul></li><li>render：指定要挂载的组件，需要传一个回调函数，回调函数的返回值最终会被挂载<ul><li>render不会像component自动传递match、location、history</li><li>回调函数的第一个参数为roteProps，与component中的props内容相同，可以使用它自定义组件</li></ul></li><li>children：可以用来指定被挂载的组件<ol><li>和render类似，传递回调函数<ul><li>当children设置一个回调函数时，该组件无论路径是否匹配都会被挂载</li></ul></li><li>可以直接传递组件<ul><li>无法用props获得三个参数</li></ul></li></ol></li></ul></li><li><p>示例：</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/&quot;</span><span class="token plain"> component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">Home</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> exact</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/about&quot;</span><span class="token plain"> render</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">roteProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">About</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">roteProps</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> exact</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/about&quot;</span><span class="token plain"> children</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">About</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> exact</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">/*注意：children表示标签体，可以直接在标签体直接设置，这样写结构更清晰*/</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/about&quot;</span><span class="token plain"> exact</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">About</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Route</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>除了使用props获取三个参数外，也可以使用钩子函数来获取</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> match</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useRouteMatch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> history</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useHistory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">location</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useLocation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> params</span><span class="token operator" style="color:#393A34">=</span><span class="token function" style="color:#d73a49">useParams</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>路由嵌套</p><ul><li>可以在路由里嵌套子组件，只有访问子路由，子组件才显示</li></ul></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  这是About页面</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Link</span><span class="token plain"> to</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">path</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">/hello</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">sayHello</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Link</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">path</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">/hello</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">Hello</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建超链接访问组件">创建超链接访问组件<a href="#创建超链接访问组件" class="hash-link" aria-label="创建超链接访问组件的直接链接" title="创建超链接访问组件的直接链接">​</a></h3><ul><li><p>在使用react router时，一定不要使用a标签来创建超链接，因为a标签创建的超链接，会自动向服务器发送请求重新加载页面，而我们不希望这种情况发生</p></li><li><p>可以使用Link组件创建超链接</p><ul><li>exact：布尔值，表示路径是否完全匹配</li></ul></li><li><p>与Link相比，NavLink组件可以指定链接激活样式</p><ul><li>activeClassName：字符串</li><li>activeStyle：对象</li></ul><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">NavLink</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">activeClassName</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value" style="color:#e3116c">{classes.active}</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">to</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">/</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">exact</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">主页</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">NavLink</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他组件">其他组件<a href="#其他组件" class="hash-link" aria-label="其他组件的直接链接" title="其他组件的直接链接">​</a></h3><ul><li>Switch<ul><li>放入Switch组件中后，匹配路径时会自动自上向下对Route进行匹配，如果匹配到则挂载组件，并且一个Switch中只会有一个Route被挂载。</li><li>如果将Route组件单独使用，那么所有的路径匹配的Route中的组件都会被挂载。</li></ul></li><li>Prompt确定框<ul><li>when：为true显示，反之不显示</li><li>message：提示信息</li></ul></li><li>Redirect重定向<ul><li>to相当于history的replace(&quot;to的值&quot;)</li><li>push to相当于history的push(&quot;to的值&quot;)</li><li>from，to，从from的路径跳转到to的路径</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="引入版本6">引入版本6<a href="#引入版本6" class="hash-link" aria-label="引入版本6的直接链接" title="引入版本6的直接链接">​</a></h3><p><code>npm install react-router-dom@6 -S</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用router-1">使用Router<a href="#使用router-1" class="hash-link" aria-label="使用Router的直接链接" title="使用Router的直接链接">​</a></h3><p>与版本5相同</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用route-1">使用Route<a href="#使用route-1" class="hash-link" aria-label="使用Route的直接链接" title="使用Route的直接链接">​</a></h3><ul><li>Route必须被<code>&lt;Routes&gt;&lt;/Routes&gt;</code>包含</li><li>Routes作用和switch类似，都是Route的容器，Routes中的Route只有一个会被匹配<ul><li>不同的是switch可写可不写，Route必须写在Routes里面否则报错</li></ul></li><li>Route的component,render,children都没了，需要通过element来指定要挂载的组件，传一个JSX对象</li><li>path<ul><li>第一个斜杠可以省略</li><li>版本6默认是严格匹配，要想变成非严格匹配。可以修改路径为/xxxx/*</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="使用钩子函数">使用钩子函数<a href="#使用钩子函数" class="hash-link" aria-label="使用钩子函数的直接链接" title="使用钩子函数的直接链接">​</a></h4><ul><li>useParams(),useLocation()同版本5</li><li>useMatch(&quot;路由路径&quot;)，用来检查当前url是否匹配某个路由，如果匹配则返回对象，否则返回null</li><li>useNavigate代替useHistory，获取用于跳转页面的函数，默认使用push的方式<ul><li>参数1：要跳转的路径</li><li>要切换成替换的方式，只需传第二个参数{replace:true}</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="路由嵌套">路由嵌套<a href="#路由嵌套" class="hash-link" aria-label="路由嵌套的直接链接" title="路由嵌套的直接链接">​</a></h4><ul><li><p>写法1：</p><ul><li>父路由非严格匹配</li><li>子路由写在父组件里</li><li>子路由的路径直接写子路径名，无需引用父路径</li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/about/*&quot;</span><span class="token plain"> element</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">About</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Route</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Route</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports maybe-class-name">Routes</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react-router-dom&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Hello</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./Hello&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">About</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">About页面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Routes</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;hello&#x27;</span><span class="token plain"> element</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Hello</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Route</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Routes</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>写法2：</p><ul><li>子路由直接写在父路由标签体内，方便我们统一管理和维护所有路由</li><li>子路由的路径直接写子路径名，无需引用父路径</li><li>Outlet用来表示嵌套路由中的组件<ul><li>当嵌套路由中的路径匹配成功了，Outlet则表示嵌套路由中的组件，否则Outlet就什么都不是</li></ul></li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;/about&quot;</span><span class="token plain"> element</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">About</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">/*写成/hello会报错，因为这是绝对路径的写法，绝对路径必须写完整，这里直接写路径名作为相对路径*/</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Route</span><span class="token plain"> path</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;hello&quot;</span><span class="token plain"> element</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Hello</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Route</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">React</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Outlet</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react-router-dom&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">About</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">About页面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Outlet</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建超链接访问组件-1">创建超链接访问组件<a href="#创建超链接访问组件-1" class="hash-link" aria-label="创建超链接访问组件的直接链接" title="创建超链接访问组件的直接链接">​</a></h3><ul><li>Link与版本5相同</li><li>NavLink<ul><li>style：回调函数，回调函数的返回值会成为生效的样式</li><li>参数里传进一个对象{isActive:ture/false}<ul><li>ture表示链接被选中，false反之</li></ul></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他组件-1">其他组件<a href="#其他组件-1" class="hash-link" aria-label="其他组件的直接链接" title="其他组件的直接链接">​</a></h3><ul><li>Navigate作用同版本5的Redirect<ul><li>默认使用push跳转，加一个replace属性，切换到replace方式</li><li>添加一个state属性，会作为下一个Location的sate值</li></ul></li></ul></article></div><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#react引入" class="table-of-contents__link toc-highlight">React引入</a><ul><li><a href="#什么是react" class="table-of-contents__link toc-highlight">什么是React?</a></li><li><a href="#react的特点" class="table-of-contents__link toc-highlight">React的特点</a></li><li><a href="#helloreact" class="table-of-contents__link toc-highlight">HelloReact</a></li></ul></li><li><a href="#三个api" class="table-of-contents__link toc-highlight">三个API</a><ul><li><a href="#reactcreateelement" class="table-of-contents__link toc-highlight">React.createElement()</a></li><li><a href="#reactdomcreaterootdom元素" class="table-of-contents__link toc-highlight">ReactDOM.createRoot(DOM元素)</a></li><li><a href="#rootrender" class="table-of-contents__link toc-highlight">root.render()</a></li></ul></li><li><a href="#jsx" class="table-of-contents__link toc-highlight">JSX</a><ul><li><a href="#引入babel" class="table-of-contents__link toc-highlight">引入babel</a></li><li><a href="#jsx语法" class="table-of-contents__link toc-highlight">JSX语法</a></li><li><a href="#渲染列表" class="table-of-contents__link toc-highlight">渲染列表</a></li><li><a href="#虚拟dom" class="table-of-contents__link toc-highlight">虚拟DOM</a></li></ul></li><li><a href="#创建react项目" class="table-of-contents__link toc-highlight">创建React项目</a><ul><li><a href="#手动创建" class="table-of-contents__link toc-highlight">手动创建</a></li><li><a href="#自动创建" class="table-of-contents__link toc-highlight">自动创建</a></li></ul></li><li><a href="#react组件" class="table-of-contents__link toc-highlight">React组件</a><ul><li><a href="#函数组件" class="table-of-contents__link toc-highlight">函数组件</a></li><li><a href="#类组件" class="table-of-contents__link toc-highlight">类组件</a></li></ul></li><li><a href="#react事件" class="table-of-contents__link toc-highlight">React事件</a></li><li><a href="#函数组件使用" class="table-of-contents__link toc-highlight">函数组件使用</a><ul><li><a href="#props" class="table-of-contents__link toc-highlight">props</a></li><li><a href="#state" class="table-of-contents__link toc-highlight">state</a></li><li><a href="#获取dom对象" class="table-of-contents__link toc-highlight">获取DOM对象</a></li></ul></li><li><a href="#类组件使用" class="table-of-contents__link toc-highlight">类组件使用</a><ul><li><a href="#prop" class="table-of-contents__link toc-highlight">prop</a></li><li><a href="#state-1" class="table-of-contents__link toc-highlight">state</a></li><li><a href="#获取dom对象-1" class="table-of-contents__link toc-highlight">获取DOM对象</a></li><li><a href="#方法" class="table-of-contents__link toc-highlight">方法</a></li></ul></li><li><a href="#练习-学习计划表" class="table-of-contents__link toc-highlight">练习-学习计划表</a><ul><li><a href="#card组件" class="table-of-contents__link toc-highlight">Card组件</a></li><li><a href="#双向绑定" class="table-of-contents__link toc-highlight">双向绑定</a></li><li><a href="#state提升" class="table-of-contents__link toc-highlight">state提升</a></li><li><a href="#子传父数据" class="table-of-contents__link toc-highlight">子传父数据</a></li><li><a href="#遮罩层" class="table-of-contents__link toc-highlight">遮罩层</a></li><li><a href="#portal" class="table-of-contents__link toc-highlight">portal</a></li></ul></li><li><a href="#样式" class="table-of-contents__link toc-highlight">样式</a><ul><li><a href="#内联样式" class="table-of-contents__link toc-highlight">内联样式</a></li><li><a href="#样式表" class="table-of-contents__link toc-highlight">样式表</a></li><li><a href="#css模块" class="table-of-contents__link toc-highlight">CSS模块</a></li><li><a href="#动态设置样式" class="table-of-contents__link toc-highlight">动态设置样式</a></li></ul></li><li><a href="#fragment" class="table-of-contents__link toc-highlight">Fragment</a></li><li><a href="#引入fontawesome" class="table-of-contents__link toc-highlight">引入FontAwesome</a></li><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li><li><a href="#汉堡到家练习" class="table-of-contents__link toc-highlight">汉堡到家练习</a></li><li><a href="#effect" class="table-of-contents__link toc-highlight">Effect</a><ul><li><a href="#reactstrictmode" class="table-of-contents__link toc-highlight">React.StrictMode</a></li><li><a href="#函数组件setstate的流程" class="table-of-contents__link toc-highlight">函数组件setState的流程</a></li><li><a href="#使用useeffect" class="table-of-contents__link toc-highlight">使用useEffect</a></li></ul></li><li><a href="#reducer" class="table-of-contents__link toc-highlight">Reducer</a><ul><li><a href="#为什么需要reducer" class="table-of-contents__link toc-highlight">为什么需要Reducer</a></li><li><a href="#usereducer" class="table-of-contents__link toc-highlight">useReducer</a></li></ul></li><li><a href="#reactmemo" class="table-of-contents__link toc-highlight">React.memo</a><ul><li><a href="#为什么需要memo" class="table-of-contents__link toc-highlight">为什么需要memo</a></li><li><a href="#使用" class="table-of-contents__link toc-highlight">使用</a></li></ul></li><li><a href="#usecallback" class="table-of-contents__link toc-highlight">useCallBack</a><ul><li><a href="#为什么需要callback" class="table-of-contents__link toc-highlight">为什么需要CallBack?</a></li><li><a href="#使用-1" class="table-of-contents__link toc-highlight">使用</a></li></ul></li><li><a href="#strapi" class="table-of-contents__link toc-highlight">Strapi</a><ul><li><a href="#作用" class="table-of-contents__link toc-highlight">作用</a></li><li><a href="#创建项目" class="table-of-contents__link toc-highlight">创建项目</a></li><li><a href="#汉化项目" class="table-of-contents__link toc-highlight">汉化项目</a></li><li><a href="#具体使用" class="table-of-contents__link toc-highlight">具体使用</a></li></ul></li><li><a href="#react中使用fetch发生请求" class="table-of-contents__link toc-highlight">React中使用fetch发生请求</a><ul><li><a href="#fetch-promise" class="table-of-contents__link toc-highlight">fetch-Promise</a></li><li><a href="#fetch-await" class="table-of-contents__link toc-highlight">fetch-await</a></li></ul></li><li><a href="#自定义钩子" class="table-of-contents__link toc-highlight">自定义钩子</a></li><li><a href="#redux" class="table-of-contents__link toc-highlight">Redux</a><ul><li><a href="#什么是redux" class="table-of-contents__link toc-highlight">什么是Redux</a></li><li><a href="#为什么需要redux" class="table-of-contents__link toc-highlight">为什么需要Redux?</a></li><li><a href="#使用-2" class="table-of-contents__link toc-highlight">使用</a></li></ul></li><li><a href="#redux-toolkitrtk" class="table-of-contents__link toc-highlight">Redux Toolkit(RTK)</a><ul><li><a href="#引入rtk" class="table-of-contents__link toc-highlight">引入RTK</a></li><li><a href="#使用rtk" class="table-of-contents__link toc-highlight">使用RTK</a></li><li><a href="#rtk拆分" class="table-of-contents__link toc-highlight">RTK拆分</a></li></ul></li><li><a href="#rtkq的定义" class="table-of-contents__link toc-highlight">RTKQ的定义</a></li><li><a href="#rtkq的使用" class="table-of-contents__link toc-highlight">RTKQ的使用</a><ul><li><a href="#导包" class="table-of-contents__link toc-highlight">导包</a></li><li><a href="#创建api对象" class="table-of-contents__link toc-highlight">创建Api对象</a></li><li><a href="#endpoints" class="table-of-contents__link toc-highlight">endpoints</a></li><li><a href="#暴露api对象" class="table-of-contents__link toc-highlight">暴露Api对象</a></li><li><a href="#使用api对象" class="table-of-contents__link toc-highlight">使用Api对象</a></li><li><a href="#usequery的返回值" class="table-of-contents__link toc-highlight">useQuery()的返回值</a></li><li><a href="#usequery的参数" class="table-of-contents__link toc-highlight">useQuery()的参数</a></li><li><a href="#usemutation的返回值" class="table-of-contents__link toc-highlight">useMutation的返回值</a></li></ul></li><li><a href="#reactrouter" class="table-of-contents__link toc-highlight">ReactRouter</a><ul><li><a href="#简介" class="table-of-contents__link toc-highlight">简介</a></li><li><a href="#引入版本5" class="table-of-contents__link toc-highlight">引入版本5</a></li><li><a href="#使用router" class="table-of-contents__link toc-highlight">使用Router</a></li><li><a href="#使用route" class="table-of-contents__link toc-highlight">使用Route</a></li><li><a href="#创建超链接访问组件" class="table-of-contents__link toc-highlight">创建超链接访问组件</a></li><li><a href="#其他组件" class="table-of-contents__link toc-highlight">其他组件</a></li><li><a href="#引入版本6" class="table-of-contents__link toc-highlight">引入版本6</a></li><li><a href="#使用router-1" class="table-of-contents__link toc-highlight">使用Router</a></li><li><a href="#使用route-1" class="table-of-contents__link toc-highlight">使用Route</a></li><li><a href="#创建超链接访问组件-1" class="table-of-contents__link toc-highlight">创建超链接访问组件</a></li><li><a href="#其他组件-1" class="table-of-contents__link toc-highlight">其他组件</a></li></ul></li></ul></div></div></div></main></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b8f1dd79.js"></script>
<script src="/assets/js/main.c89ca951.js"></script>
</body>
</html>